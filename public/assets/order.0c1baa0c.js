import{_ as V}from"./ui-modal.5d783083.js";import{_ as A}from"./ui-content.e5c6574e.js";import{_ as S,z as m,o as n,a,j as y,k as b,F as c,b as s,w as r,A as U,v as p,B as w,d as v,t as f,g as I}from"./index.09ea6b68.js";import{a as O}from"./address.8816b16f.js";import"./ui-nav-header.11d60f7c.js";const g={title:"Default",cols:{ordersId:{text:"ordersId",sortBy:"kim"},status:{text:"status"},actions:{text:"action",className:"w-20"}},rows:[],rowActions:d=>[{id:"delete",type:"delete",disable:!1}]},C=[],M={data(){return console.log(m().orders),g.rows=m().orders,{isOpenModal:!1,dataTable:g,filters:C,addresses:O,orders:{isAddress:"Y"},masterStore:m()}},methods:{onSelect(d){d.type==="edit"?(this.isOpenModal=!0,this.orders={...d.row,listDel:[],address:{}}):d.type==="new"&&(this.isOpenModal=!0,this.orders={isAddress:"Y",address:{},list:[]})},onAddress(){let d=this.addresses.find(t=>t.district===this.orders.address.district);this.orders.address.province=d.province,this.orders.address.subdistrict=d.amphoe,this.orders.address.zipcode=d.zipcode},async onSave(){await this.$axios({method:"post",url:"api/orders/createOrUpdateOrderCtrl",data:this.orders})},onAddOrderList(){let d=0;this.orders.list.push({productId:"",qty:this.qty,price:d})},onDelete(d,t){this.orders.list.splice(d,1),this.orders.listDel.push(t)},getPrice(d){var _;let t=this.orders.list[d].productId,u=(_=this.masterStore.products.find(o=>o.productId===t))==null?void 0:_.price;this.orders.list[d].price=u||0}}},D={class:"checkbox"},N=s("div",{for:"active"}," Is Address ",-1),q={key:0},z={class:"flex gap-2"},B={class:"w-[50%]"},L=["placeholder"],T={class:"w-[50%]"},P=["placeholder"],Y={class:"flex gap-2 mt-2"},F={class:"w-[50%]"},j=["placeholder"],E={class:"w-[50%]"},G=["placeholder"],H=["valus"],J={class:"flex gap-2 mt-2"},K={class:"w-[50%]"},Q=["placeholder"],R={class:"w-[50%]"},W=["placeholder"],X={class:"flex gap-2 mt-2"},Z=s("div",{class:"text-3xl"}," Products ",-1),$={class:"w-[40%]"},ee={class:"w-[40%]"},se=["onUpdate:modelValue","onChange"],te=s("option",{value:""}," Select Items ",-1),oe=["value"],de={class:"w-[40%]"},re=["onUpdate:modelValue"],le={class:"w-[40%] p-2"},ie=["onClick"],ne={class:"flex gap-3 mt-2"},ae={class:"p-0 w-[50%]"},pe=s("label",null,"Detail",-1);function ce(d,t,u,_,o,l){const x=A,k=V;return n(),a(c,null,[y(x,{title:"orders","data-table":o.dataTable,filters:o.filters,onOnSelectItem:l.onSelect},null,8,["data-table","filters","onOnSelectItem"]),y(k,{"is-open":o.isOpenModal,"onUpdate:is-open":t[11]||(t[11]=e=>o.isOpenModal=e),right:""},{btnModalTop:b(()=>[s("button",{class:"btn-green",onClick:t[0]||(t[0]=(...e)=>l.onSave&&l.onSave(...e))}," save ")]),default:b(()=>[s("div",null,[s("label",D,[r(s("input",{type:"checkbox",id:"active",name:"active","onUpdate:modelValue":t[1]||(t[1]=e=>o.orders.isAddress=e),"true-value":"Y","false-value":"N"},null,512),[[U,o.orders.isAddress]]),N])]),o.orders.isAddress=="N"?(n(),a("div",q,[s("div",z,[s("div",B,[r(s("input",{type:"text",placeholder:d.$t("profile.address1"),"onUpdate:modelValue":t[2]||(t[2]=e=>o.orders.address.address=e)},null,8,L),[[p,o.orders.address.address]])]),s("div",T,[r(s("input",{type:"text",placeholder:d.$t("profile.moo"),"onUpdate:modelValue":t[3]||(t[3]=e=>o.orders.address.moo=e)},null,8,P),[[p,o.orders.address.moo]])])]),s("div",Y,[s("div",F,[r(s("input",{type:"text",placeholder:d.$t("profile.subdistrict"),"onUpdate:modelValue":t[4]||(t[4]=e=>o.orders.address.subdistrict=e)},null,8,j),[[p,o.orders.address.subdistrict]])]),s("div",E,[r(s("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.orders.address.district=e),placeholder:d.$t("profile.district"),onChange:t[6]||(t[6]=(...e)=>l.onAddress&&l.onAddress(...e))},[(n(!0),a(c,null,v(o.addresses,e=>(n(),a("option",{key:e.district_code,valus:e.district},f(e.district),9,H))),128))],40,G),[[w,o.orders.address.district]])])]),s("div",J,[s("div",K,[r(s("input",{type:"text",placeholder:d.$t("profile.province"),"onUpdate:modelValue":t[7]||(t[7]=e=>o.orders.address.province=e)},null,8,Q),[[p,o.orders.address.province]])]),s("div",R,[r(s("input",{type:"number",placeholder:d.$t("profile.zipcode"),"onUpdate:modelValue":t[8]||(t[8]=e=>o.orders.address.zipcode=e)},null,8,W),[[p,o.orders.address.zipcode]])])])])):I("",!0),s("div",X,[Z,s("div",$,[s("button",{class:"btn-green m-icon",onClick:t[9]||(t[9]=(...e)=>l.onAddOrderList&&l.onAddOrderList(...e))}," add ")])]),(n(!0),a(c,null,v(o.orders.list,(e,h)=>(n(),a("div",{class:"flex gap-2 mt-3",key:h},[s("div",ee,[r(s("select",{"onUpdate:modelValue":i=>e.productId=i,onChange:i=>l.getPrice(h)},[te,(n(!0),a(c,null,v(o.masterStore.products,i=>(n(),a("option",{key:i.id,value:i.productId},f(i.displayName),9,oe))),128))],40,se),[[w,e.productId]])]),s("div",de,[r(s("input",{type:"text",placeholder:"qty","onUpdate:modelValue":i=>e.qty=i},null,8,re),[[p,e.qty]])]),s("div",le,f(e.price*e.qty),1),s("button",{class:"btn-danger m-icon",onClick:i=>l.onDelete(h,e.orderListId)}," delete ",8,ie)]))),128)),s("div",ne,[s("div",ae,[pe,r(s("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=e=>o.orders.detail=e)},null,512),[[p,o.orders.detail]])])])]),_:1},8,["is-open"])],64)}const fe=S(M,[["render",ce]]);export{fe as default};
