import{_ as v}from"./ui-nav-header.11d60f7c.js";import{_ as g,x as _,o as n,a,j as b,k as h,b as e,t as c,g as x,w as d,v as r,B as y,F as w,d as U,h as V,f as P,p as k,e as z}from"./index.09ea6b68.js";import{a as C}from"./address.8816b16f.js";const S={data(){let o=_().profile;return{appStore:_(),profile:o,addresses:C,img:""}},computed:{formAddress(){let o=[];if(!this.profile.address.zipcode)return this.addresses;for(let s of this.addresses)s.zipcode===this.profile.address.zipcode&&o.push(s);return o}},methods:{async onFileChange(o){const s=o.target.files[0];this.profile.imgPath=URL.createObjectURL(s);const u=new FormData,f=o.target.files;Object.keys(f).forEach(l=>{u.append(f.item(l).name,f.item(l))}),await this.$axios({method:"post",url:"api/profile/uploadImg",data:u})},onAddress(){let o=this.formAddress.find(s=>s.district===this.profile.address.district);this.profile.address.province=o.province,this.profile.address.subdistrict=o.amphoe,this.profile.address.zipcode=o.zipcode},async onUpdateProfile(){await this.$axios({method:"post",url:"api/profile/updateProfile",data:this.profile})}}},i=o=>(k("data-v-111d3594"),o=o(),z(),o),A={class:"w-full"},I={class:"p-4"},F={class:"flex text-4xl mt-2"},N=i(()=>e("div",{class:"m-icon text-4xl"}," photo_camera ",-1)),j={class:"m-icon cursor-pointer text-6xl",for:"uploadImg"},B={class:"flex w-50 h-50 border-2 items-center justify-center rounded-lg"},D=["src"],L={key:1},E={class:"flex text-4xl mt-2"},M=i(()=>e("div",{class:"m-icon text-4xl"}," contact_page ",-1)),O={class:"row"},R={class:"col1-2"},T=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," account_circle ",-1)),q=["placeholder"],G={class:"col1-2"},H=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," account_circle ",-1)),J=["placeholder"],K={class:"col1-2"},Q=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," badge ",-1)),W=["placeholder"],X={class:"col1-2"},Y=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," lock ",-1)),Z=["placeholder"],$={class:"flex text-4xl mt-2"},ee=i(()=>e("div",{class:"m-icon text-4xl"}," pin_drop ",-1)),se={class:"row"},oe={class:"col1-3"},te=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," home ",-1)),le=["placeholder"],ie={class:"col1-3"},de=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," edit_road ",-1)),re=["placeholder"],pe={class:"col1-3"},ne=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," edit_road ",-1)),ae=["placeholder"],ce={class:"col1-3"},fe=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," edit_road ",-1)),ue=["placeholder"],_e=["valus"],he={class:"col1-3"},me=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," edit_road ",-1)),ve=["placeholder"],ge={class:"col1-3"},be=i(()=>e("div",{class:"m-icon absolute left-2 top-2"}," contact_mail ",-1)),xe=["placeholder"];function ye(o,s,u,f,l,p){const m=v;return n(),a("div",A,[b(m,null,{titleNav:h(()=>[V(c(o.$t("profile.title")),1)]),"btn-right":h(()=>[P(o.$slots,"btn-right",{},()=>[e("button",{class:"btn-green",onClick:s[0]||(s[0]=(...t)=>p.onUpdateProfile&&p.onUpdateProfile(...t))}," save ")],!0)]),_:3}),e("div",I,[e("div",F,[N,e("h1",null,c(o.$t("profile.photo")),1)]),e("div",null,[e("label",j,[e("div",B,[l.profile.imgPath?(n(),a("img",{key:0,src:l.profile.imgPath,class:"w-full h-full rounded-lg"},null,8,D)):l.profile.imgPath?x("",!0):(n(),a("div",L," add_a_photo ")),e("input",{class:"h-0 hidden",ref:"img",type:"file",id:"uploadImg",accept:"image/*",onChange:s[1]||(s[1]=(...t)=>p.onFileChange&&p.onFileChange(...t))},null,544)])])]),e("div",E,[M,e("h1",null,c(o.$t("profile.information")),1)]),e("div",O,[e("div",R,[T,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.firstname"),"onUpdate:modelValue":s[2]||(s[2]=t=>l.profile.firstname=t)},null,8,q),[[r,l.profile.firstname]])]),e("div",G,[H,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.lastname"),"onUpdate:modelValue":s[3]||(s[3]=t=>l.profile.lastname=t)},null,8,J),[[r,l.profile.lastname]])]),e("div",K,[Q,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.username"),"onUpdate:modelValue":s[4]||(s[4]=t=>l.profile.username=t),disabled:""},null,8,W),[[r,l.profile.username]])]),e("div",X,[Y,d(e("input",{class:"!pl-10",type:"password",autocomplete:"off",placeholder:o.$t("profile.password"),"onUpdate:modelValue":s[5]||(s[5]=t=>l.profile.changePassword=t)},null,8,Z),[[r,l.profile.changePassword]])])]),e("div",$,[ee,e("h1",null,c(o.$t("profile.address")),1)]),e("div",se,[e("div",oe,[te,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.address1"),"onUpdate:modelValue":s[6]||(s[6]=t=>l.profile.address.address=t)},null,8,le),[[r,l.profile.address.address]])]),e("div",ie,[de,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.moo"),"onUpdate:modelValue":s[7]||(s[7]=t=>l.profile.address.moo=t)},null,8,re),[[r,l.profile.address.moo]])]),e("div",pe,[ne,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.subdistrict"),"onUpdate:modelValue":s[8]||(s[8]=t=>l.profile.address.subdistrict=t)},null,8,ae),[[r,l.profile.address.subdistrict]])]),e("div",ce,[fe,d(e("select",{class:"!pl-10","onUpdate:modelValue":s[9]||(s[9]=t=>l.profile.address.district=t),placeholder:o.$t("profile.district"),onChange:s[10]||(s[10]=(...t)=>p.onAddress&&p.onAddress(...t))},[(n(!0),a(w,null,U(p.formAddress,t=>(n(),a("option",{key:t.district_code,valus:t.district},c(t.district),9,_e))),128))],40,ue),[[y,l.profile.address.district]])]),e("div",he,[me,d(e("input",{class:"!pl-10",type:"text",placeholder:o.$t("profile.province"),"onUpdate:modelValue":s[11]||(s[11]=t=>l.profile.address.province=t)},null,8,ve),[[r,l.profile.address.province]])]),e("div",ge,[be,d(e("input",{class:"!pl-10",type:"number",placeholder:o.$t("profile.zipcode"),"onUpdate:modelValue":s[12]||(s[12]=t=>l.profile.address.zipcode=t)},null,8,xe),[[r,l.profile.address.zipcode]])])])])])}const Pe=g(S,[["render",ye],["__scopeId","data-v-111d3594"]]);export{Pe as default};
