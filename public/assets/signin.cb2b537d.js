import{_ as p,D as c,E as f,G as h,x as r,o as g,a as w,b as s,w as i,v as l,h as d}from"./index.71b24ed1.js";import{b as u}from"./route-block.78efdbad.js";const m={data(){return{formData:{username:"",password:""}}},computed:{...c(r,["lang"])},mounted(){this.subId=f(this.test)},beforeUnmount(){h(this.subId)},methods:{async onSignin(){window.localStorage.removeItem("token");const{data:t}=await this.$axios({method:"post",url:"api/auth/signin",data:this.formData});console.log(t),t.ok&&(window.localStorage.setItem("token",t.data.token),r().token=t.data.token,this.$router.push({path:"/app/home"}))},test(t){this.formData.username=t}}},x={class:"flex items-center justify-center h-full px-4"},b=s("h1",{class:"text-3xl mx-[40%]"}," Login ",-1),_={class:"py-1"},k=d(" Username : "),D={class:"py-1"},v=d(" Password : ");function y(t,e,S,I,n,a){return g(),w("form",x,[s("div",null,[b,s("div",_,[k,i(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.formData.username=o)},null,512),[[l,n.formData.username]])]),s("div",D,[v,i(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.formData.password=o)},null,512),[[l,n.formData.password]])]),s("p",{class:"text-blue-400 underline cursor-pointer",onClick:e[2]||(e[2]=o=>t.$router.push("/register"))}," Register "),s("button",{class:"my-2 w-full",onClick:e[3]||(e[3]=(...o)=>a.onSignin&&a.onSignin(...o))}," Login ")])])}typeof u=="function"&&u(m);const B=p(m,[["render",y]]);export{B as default};
